version: 2

models:
  - name: bz_audit_log
    description: Audit log for bronze layer transformations
    columns:
      - name: record_id
        description: Unique identifier for the audit record
        tests:
          - not_null
          - unique
      - name: source_table
        description: Source table name
        tests:
          - not_null
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: processed_by
        description: User or process that processed the data
      - name: processing_time
        description: Time taken to process the data in seconds
      - name: status
        description: Status of the processing (success/failure)
        tests:
          - not_null

  - name: bz_users
    description: Bronze layer for users data
    columns:
      - name: user_id
        description: Unique identifier for a user
        tests:
          - not_null
          - unique
      - name: user_name
        description: Name of the user
      - name: email
        description: Email address of the user
      - name: company
        description: Company the user belongs to
      - name: plan_type
        description: Subscription plan type
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_meetings
    description: Bronze layer for meetings data
    columns:
      - name: meeting_id
        description: Unique identifier for a meeting
        tests:
          - not_null
          - unique
      - name: host_id
        description: ID of the user who hosted the meeting
        tests:
          - not_null
      - name: meeting_topic
        description: Topic of the meeting
      - name: start_time
        description: Start time of the meeting
      - name: end_time
        description: End time of the meeting
      - name: duration_minutes
        description: Duration of the meeting in minutes
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_participants
    description: Bronze layer for participants data
    columns:
      - name: participant_id
        description: Unique identifier for a participant
        tests:
          - not_null
          - unique
      - name: meeting_id
        description: ID of the meeting the participant attended
        tests:
          - not_null
      - name: user_id
        description: ID of the user who participated
      - name: join_time
        description: Time when the participant joined the meeting
      - name: leave_time
        description: Time when the participant left the meeting
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_feature_usage
    description: Bronze layer for feature usage data
    columns:
      - name: usage_id
        description: Unique identifier for a feature usage record
        tests:
          - not_null
          - unique
      - name: meeting_id
        description: ID of the meeting where the feature was used
        tests:
          - not_null
      - name: feature_name
        description: Name of the feature
      - name: usage_count
        description: Count of feature usage
      - name: usage_date
        description: Date when the feature was used
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_webinars
    description: Bronze layer for webinars data
    columns:
      - name: webinar_id
        description: Unique identifier for a webinar
        tests:
          - not_null
          - unique
      - name: host_id
        description: ID of the user who hosted the webinar
        tests:
          - not_null
      - name: webinar_topic
        description: Topic of the webinar
      - name: start_time
        description: Start time of the webinar
      - name: end_time
        description: End time of the webinar
      - name: registrants
        description: Number of registrants for the webinar
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_support_tickets
    description: Bronze layer for support tickets data
    columns:
      - name: ticket_id
        description: Unique identifier for a support ticket
        tests:
          - not_null
          - unique
      - name: user_id
        description: ID of the user who created the ticket
      - name: ticket_type
        description: Type of the support ticket
      - name: resolution_status
        description: Status of the ticket resolution
      - name: open_date
        description: Date when the ticket was opened
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_licenses
    description: Bronze layer for licenses data
    columns:
      - name: license_id
        description: Unique identifier for a license
        tests:
          - not_null
          - unique
      - name: license_type
        description: Type of the license
      - name: assigned_to_user_id
        description: ID of the user the license is assigned to
      - name: start_date
        description: Start date of the license
      - name: end_date
        description: End date of the license
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null

  - name: bz_billing_events
    description: Bronze layer for billing events data
    columns:
      - name: event_id
        description: Unique identifier for a billing event
        tests:
          - not_null
          - unique
      - name: user_id
        description: ID of the user associated with the billing event
      - name: event_type
        description: Type of the billing event
      - name: amount
        description: Amount of the billing event
      - name: event_date
        description: Date of the billing event
      - name: load_timestamp
        description: Timestamp when the record was loaded
        tests:
          - not_null
      - name: update_timestamp
        description: Timestamp when the record was last updated
        tests:
          - not_null
      - name: source_system
        description: Source system of the data
        tests:
          - not_null
